<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ezio OATH Client API for iOS: &lt;MTAppCore&gt; Protocol Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="gemalto-logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ezio OATH Client API for iOS
   &#160;<span id="projectnumber">5.1 Beta</span>
   </div>
   <div id="projectbrief">Reference guide</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('protocol_m_t_app_core-p.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">&lt;MTAppCore&gt; Protocol Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="MTAppCore-p" -->
<p>This is the protocol implemented by the mobile token application core.  
 <a href="protocol_m_t_app_core-p.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_m_t_app_core_8h_source.html">MTAppCore.h</a>&gt;</code></p>

<p><a href="protocol_m_t_app_core-p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Token management</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_t_enterprise_list-p.html">MTEnterpriseList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a2597a12452abd5ff6c8e9be8f9c70a59">loadEnterpriseList</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current list of enterprises.  <a href="#a2597a12452abd5ff6c8e9be8f9c70a59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_t_account_list-p.html">MTAccountList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a9269c3c0baea46f085be722b7aca80a1">loadAccountListForEnterprise:</a> (id&lt; <a class="el" href="protocol_m_t_enterprise-p.html">MTEnterprise</a> &gt; enterprise)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current list of accounts for a given enterprise.  <a href="#a9269c3c0baea46f085be722b7aca80a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#aa35110987c4886ef6c265383c7a2adde">deleteAccount:</a> (id&lt; <a class="el" href="protocol_m_t_account-p.html">MTAccount</a> &gt; account)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the given account.  <a href="#aa35110987c4886ef6c265383c7a2adde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_t_token-p.html">MTToken</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#ae9787974a2300e2ff4c81a26e3c5251a">loadTokenForAccount:</a> (id&lt; <a class="el" href="protocol_m_t_account-p.html">MTAccount</a> &gt; account)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the token for a given account.  <a href="#ae9787974a2300e2ff4c81a26e3c5251a"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Token deployment</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a86a6b9bb0439b04ce65c7174b625fa65">setDownloadURL:</a> (NSString *url)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the token dowload URL.  <a href="#a86a6b9bb0439b04ce65c7174b625fa65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_m_t_deployer-p.html">MTDeployer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a2702b673e793dc7339e0c84905d20118">deployTokenForSerialActivation:</a> (id&lt; <a class="el" href="protocol_m_t_serial_activation-p.html">MTSerialActivation</a> &gt; serialActivation)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a token deployer for the specified serial and activation numbers.  <a href="#a2702b673e793dc7339e0c84905d20118"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Credential management</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fa4f0f134492b88934f2d726c64f051"></a><!-- doxytag: member="MTAppCore&#45;p::state" ref="a1fa4f0f134492b88934f2d726c64f051" args="" -->
<a class="el" href="_m_t_app_core_8h.html#a407e842d9b62754ce65a46c867300fb0">MTAppCoreState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a1fa4f0f134492b88934f2d726c64f051">state</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current state of this core. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab141c1ce8b896d2b560532450a1f4014"></a><!-- doxytag: member="MTAppCore&#45;p::logged" ref="ab141c1ce8b896d2b560532450a1f4014" args="" -->
BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#ab141c1ce8b896d2b560532450a1f4014">logged</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies if this core is logged or not. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52ccb376d11042724d60f0161d04bc14"></a><!-- doxytag: member="MTAppCore&#45;p::usingPassword" ref="a52ccb376d11042724d60f0161d04bc14" args="" -->
BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a52ccb376d11042724d60f0161d04bc14">usingPassword</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the password is used or not. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#ab99489730ea27c641fa752ccd62925a5">initializeWithoutPassword</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes this core without using a password.  <a href="#ab99489730ea27c641fa752ccd62925a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a6627e6ab87d0751d310796868fabac60">initializeWithPassword:andPUK:</a> (NSString *passwd,[andPUK] NSString *puk)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes this core with a given password and puk.  <a href="#a6627e6ab87d0751d310796868fabac60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#ad386a6481f1851d18ab1d51ed0cfe536">loginWithoutPassword</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the login without a password.  <a href="#ad386a6481f1851d18ab1d51ed0cfe536"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a8bc94e4aa5ef8777920c0f74910d87c2">loginWithPassword:</a> (NSString *passwd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the login using the given password.  <a href="#a8bc94e4aa5ef8777920c0f74910d87c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a279511883fbfe23e8cda2eea481575c1">logout</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the logout.  <a href="#a279511883fbfe23e8cda2eea481575c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#aabe701badb7668af64fc98079c47fe1c">checkPassword:</a> (NSString *passwd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the current password.  <a href="#aabe701badb7668af64fc98079c47fe1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#aeabad4bb57548e0c8c136dbaa1e23cab">setPassword:</a> (NSString *passwd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current password.  <a href="#aeabad4bb57548e0c8c136dbaa1e23cab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a511b58fb266efe7b2b33eddc12fe344b">setPUK:</a> (NSString *puk)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current PUK.  <a href="#a511b58fb266efe7b2b33eddc12fe344b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a1d454c0e89443bfcb945a047dca8db4e">resetPasswordTo:withPUK:</a> (NSString *passwd,[withPUK] NSString *puk)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the password using the current PUK.  <a href="#a1d454c0e89443bfcb945a047dca8db4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a1f495e57b4b566aa09cd2d21cc08b34e">getRemainingPUKCount</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the remaining number of reset password attempts before it becomes Dead.  <a href="#a1f495e57b4b566aa09cd2d21cc08b34e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_m_t_app_core-p.html#a688a69c4da8fb7e4afb470ba0de55185">getRemainingPasswdCount</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the remaining number of login attempts before block it.  <a href="#a688a69c4da8fb7e4afb470ba0de55185"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This is the protocol implemented by the mobile token application core. </p>
<p>Each instance of this class represents a fully functional mobile token application.</p>
<p>The application core is the main component of a mobile token. It is responsible for almost all functionalities of the application, such as the credential management (passwords and database encryption), database management (opaque to the API user), token deployment and token management.</p>
<p>A typical appplication usually creates a single instance of this class, uses it to perform all the token's operations and releases at at exit.</p>
<p>It is possible to work with more than one instance of this class if, and only if those instances don't share the same database. This means that each instance will act as a distinct mobile token application.</p>
<p>Instances of the application core must be created by the method <a class="el" href="interface_m_t_core_factory.html#a40661235abd20f5352af8b662d03e9cb" title="Creates a new instance of the application core for the specified device using the specified database...">MTCoreFactory::createCore:usingDatabase:</a>. The following code illustrates how the core must be created:</p>
<div class="fragment"><pre class="fragment">
<span class="comment">// Variable declaration.</span>
NSString * deviceid;
id &lt;MTAppCore&gt; core;

<span class="comment">// Get a device unique value. Any constant value is valid.</span>
deviceid = [[UIDevice currentDevice] uniqueIdentifier];

<span class="comment">// Create the core</span>
core = [<a class="code" href="interface_m_t_core_factory.html" title="This static class implements the object factory used to create the instances of the main classes of t...">MTCoreFactory</a> createCore: deviceid usingDatabase: <span class="stringliteral">@&quot;path to database&quot;</span>];
<span class="keywordflow">if</span> (core == nil) {
        NSLog(<span class="stringliteral">@&quot;Unable to create the core.&quot;</span>);
        <span class="keywordflow">return</span> NO;
}

<span class="comment">// Set the token download URL</span>
<span class="keywordflow">if</span> ([core setDownloadURL: <span class="stringliteral">@&quot;http://token.download.server/path/to/the/web/application&quot;</span>]) {
        NSLog(<span class="stringliteral">@&quot;Unable to set the token download URL.&quot;</span>);
        <span class="keywordflow">return</span> NO;
}
<span class="keywordflow">return</span> YES;

</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>This class is not thread safe. </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>5.0 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Fabio Jun Takda Chino </dd>
<dd>
Rafael Teixeira </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aabe701badb7668af64fc98079c47fe1c"></a><!-- doxytag: member="MTAppCore&#45;p::checkPassword:" ref="aabe701badb7668af64fc98079c47fe1c" args="(NSString *passwd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::checkPassword: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>passwd</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks the current password. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">passwd</td><td>The password. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method will not work if the core is not logged of the core is not using a password. </dd></dl>

</div>
</div>
<a class="anchor" id="aa35110987c4886ef6c265383c7a2adde"></a><!-- doxytag: member="MTAppCore&#45;p::deleteAccount:" ref="aa35110987c4886ef6c265383c7a2adde" args="(id&lt; MTAccount &gt; account)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::deleteAccount: </td>
          <td>(</td>
          <td class="paramtype">id&lt; <a class="el" href="protocol_m_t_account-p.html">MTAccount</a> &gt;&#160;</td>
          <td class="paramname"><em>account</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the given account. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">account</td><td>The account to be deleted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES on success or NO otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a2702b673e793dc7339e0c84905d20118"></a><!-- doxytag: member="MTAppCore&#45;p::deployTokenForSerialActivation:" ref="a2702b673e793dc7339e0c84905d20118" args="(id&lt; MTSerialActivation &gt; serialActivation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">id &lt;<a class="el" href="protocol_m_t_deployer-p.html">MTDeployer</a>&gt; <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::deployTokenForSerialActivation: </td>
          <td>(</td>
          <td class="paramtype">id&lt; <a class="el" href="protocol_m_t_serial_activation-p.html">MTSerialActivation</a> &gt;&#160;</td>
          <td class="paramname"><em>serialActivation</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a token deployer for the specified serial and activation numbers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">serialActivation</td><td>The serial/activation pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new deployer or nil on failure. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method will not work if the </dd></dl>

</div>
</div>
<a class="anchor" id="a688a69c4da8fb7e4afb470ba0de55185"></a><!-- doxytag: member="MTAppCore&#45;p::getRemainingPasswdCount" ref="a688a69c4da8fb7e4afb470ba0de55185" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::getRemainingPasswdCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the remaining number of login attempts before block it. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of attempts or -1 if blocked </dd></dl>

</div>
</div>
<a class="anchor" id="a1f495e57b4b566aa09cd2d21cc08b34e"></a><!-- doxytag: member="MTAppCore&#45;p::getRemainingPUKCount" ref="a1f495e57b4b566aa09cd2d21cc08b34e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::getRemainingPUKCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the remaining number of reset password attempts before it becomes Dead. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of attempts or -1 if dead </dd></dl>

</div>
</div>
<a class="anchor" id="ab99489730ea27c641fa752ccd62925a5"></a><!-- doxytag: member="MTAppCore&#45;p::initializeWithoutPassword" ref="ab99489730ea27c641fa752ccd62925a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::initializeWithoutPassword </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this core without using a password. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success, this core will be left logged. </dd>
<dd>
This method works only if the state of the core is MTAppCoreState_NOT_INITIALIZED. </dd></dl>

</div>
</div>
<a class="anchor" id="a6627e6ab87d0751d310796868fabac60"></a><!-- doxytag: member="MTAppCore&#45;p::initializeWithPassword:andPUK:" ref="a6627e6ab87d0751d310796868fabac60" args="(NSString *passwd,[andPUK] NSString *puk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::initializeWithPassword:andPUK: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[andPUK] NSString *&#160;</td>
          <td class="paramname"><em>puk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes this core with a given password and puk. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">passwd</td><td>The password to be used. It cannot be empty. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">puk</td><td>The PUK used to unblock the password. It cannot be empty. If your application is not willing to support PUK, set this value to a large string random string and do not display it to the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success, this core will be left logged. </dd>
<dd>
This method works only if the state of the core is MTAppCoreState_NOT_INITIALIZED. </dd></dl>

</div>
</div>
<a class="anchor" id="a9269c3c0baea46f085be722b7aca80a1"></a><!-- doxytag: member="MTAppCore&#45;p::loadAccountListForEnterprise:" ref="a9269c3c0baea46f085be722b7aca80a1" args="(id&lt; MTEnterprise &gt; enterprise)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">id &lt;<a class="el" href="protocol_m_t_account_list-p.html">MTAccountList</a>&gt; <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::loadAccountListForEnterprise: </td>
          <td>(</td>
          <td class="paramtype">id&lt; <a class="el" href="protocol_m_t_enterprise-p.html">MTEnterprise</a> &gt;&#160;</td>
          <td class="paramname"><em>enterprise</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns current list of accounts for a given enterprise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enterprise</td><td>The enterprise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The list of accounts for the given enterprise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not cache this instance because it may be replaced by the core at any time. </dd></dl>

</div>
</div>
<a class="anchor" id="a2597a12452abd5ff6c8e9be8f9c70a59"></a><!-- doxytag: member="MTAppCore&#45;p::loadEnterpriseList" ref="a2597a12452abd5ff6c8e9be8f9c70a59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">id &lt;<a class="el" href="protocol_m_t_enterprise_list-p.html">MTEnterpriseList</a>&gt; <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::loadEnterpriseList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns current list of enterprises. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The list of enterprises. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Do not cache this instance because it may be replaced by the core at any time. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9787974a2300e2ff4c81a26e3c5251a"></a><!-- doxytag: member="MTAppCore&#45;p::loadTokenForAccount:" ref="ae9787974a2300e2ff4c81a26e3c5251a" args="(id&lt; MTAccount &gt; account)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">id &lt;<a class="el" href="protocol_m_t_token-p.html">MTToken</a>&gt; <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::loadTokenForAccount: </td>
          <td>(</td>
          <td class="paramtype">id&lt; <a class="el" href="protocol_m_t_account-p.html">MTAccount</a> &gt;&#160;</td>
          <td class="paramname"><em>account</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads the token for a given account. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">account</td><td>The account to be loaded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An object that represents the token or nil in case of failure. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>It is possible to cache this instance by adding a reference to it. </dd></dl>

</div>
</div>
<a class="anchor" id="ad386a6481f1851d18ab1d51ed0cfe536"></a><!-- doxytag: member="MTAppCore&#45;p::loginWithoutPassword" ref="ad386a6481f1851d18ab1d51ed0cfe536" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::loginWithoutPassword </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs the login without a password. </p>
<p>It can only be used if the property self.usingPassword is false otherwise it always fails.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bc94e4aa5ef8777920c0f74910d87c2"></a><!-- doxytag: member="MTAppCore&#45;p::loginWithPassword:" ref="a8bc94e4aa5ef8777920c0f74910d87c2" args="(NSString *passwd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::loginWithPassword: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>passwd</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs the login using the given password. </p>
<p>It can only be used if the property self.usingPassword is true.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">passwd</td><td>The password to be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>

</div>
</div>
<a class="anchor" id="a279511883fbfe23e8cda2eea481575c1"></a><!-- doxytag: member="MTAppCore&#45;p::logout" ref="a279511883fbfe23e8cda2eea481575c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::logout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs the logout. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>

</div>
</div>
<a class="anchor" id="a1d454c0e89443bfcb945a047dca8db4e"></a><!-- doxytag: member="MTAppCore&#45;p::resetPasswordTo:withPUK:" ref="a1d454c0e89443bfcb945a047dca8db4e" args="(NSString *passwd,[withPUK] NSString *puk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::resetPasswordTo:withPUK: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>passwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[withPUK] NSString *&#160;</td>
          <td class="paramname"><em>puk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets the password using the current PUK. </p>
<p>It will fail if the state of the token is not MTAppCoreState_BLOCKED.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">passwd</td><td>The new password. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">puk</td><td>The puk current PUK. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>On success this method will left the token unlogged. </dd>
<dd>
This method may kill the token after 3 wrong attempts. If this happens, the token will be unusable. </dd></dl>

</div>
</div>
<a class="anchor" id="a86a6b9bb0439b04ce65c7174b625fa65"></a><!-- doxytag: member="MTAppCore&#45;p::setDownloadURL:" ref="a86a6b9bb0439b04ce65c7174b625fa65" args="(NSString *url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::setDownloadURL: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the token dowload URL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">url</td><td>The token download URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>It is not possible to download a token the URL is not set. </dd></dl>

</div>
</div>
<a class="anchor" id="aeabad4bb57548e0c8c136dbaa1e23cab"></a><!-- doxytag: member="MTAppCore&#45;p::setPassword:" ref="aeabad4bb57548e0c8c136dbaa1e23cab" args="(NSString *passwd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::setPassword: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>passwd</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the current password. </p>
<p>It can also be used to disable the password if it is in use.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">passwd</td><td>The password of nil to disable it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method will not work if the core is not logged. </dd>
<dd>
This method does not change the PUK so, when enabling the password, it is a good practice to set a new PUK too. </dd></dl>

</div>
</div>
<a class="anchor" id="a511b58fb266efe7b2b33eddc12fe344b"></a><!-- doxytag: member="MTAppCore&#45;p::setPUK:" ref="a511b58fb266efe7b2b33eddc12fe344b" args="(NSString *puk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL <a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>-p::setPUK: </td>
          <td>(</td>
          <td class="paramtype">NSString *&#160;</td>
          <td class="paramname"><em>puk</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the current PUK. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">puk</td><td>The puk. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES for success or NO othewise. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This method fails if the core is not logged. </dd></dl>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li>mtcore-ios/<a class="el" href="_m_t_app_core_8h_source.html">MTAppCore.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="protocol_m_t_app_core-p.html">MTAppCore</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.7.5</li>
    <li class="footer">Copyright &copy; 2011 Open Communications Security S/A</li>
   </ul>
 </div>


</body>
</html>
